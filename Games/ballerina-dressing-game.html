<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ballerina Dressing Game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background: #f9e6ff;
        }
        #gameContainer {
            display: flex;
            justify-content: center;
            align-items: flex-start;
            gap: 20px;
            margin-top: 20px;
        }
        #game {
            border: 2px solid #ff69b4;
        }
        #controls {
            width: 300px;
            text-align: left;
        }
        select, input {
            margin: 5px;
            padding: 5px;
            width: 90%;
        }
        label {
            font-weight: bold;
            color: #ff1493;
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.55.2/dist/phaser.min.js"></script>
</head>
<body>
    <h1>Ballerina Dressing Game</h1>
    <div id="gameContainer">
        <div id="game"></div>
        <div id="controls">
            <label>Position:</label><br>
            <select id="position">
                <option value="first">First Position</option>
                <option value="second">Second Position</option>
                <option value="third">Third Position</option>
                <option value="fourth">Fourth Position</option>
                <option value="fifth">Fifth Position</option>
            </select><br>

            <label>Hair Style:</label><br>
            <select id="hairStyle">
                <option value="bun">Bun</option>
                <option value="ponytail">Ponytail</option>
                <option value="braid">Braid</option>
            </select>
            <input type="color" id="hairColor" value="#8b4513"><br>

            <label>Top:</label><br>
            <select id="topStyle">
                <option value="leotard">Leotard</option>
                <option value="tank">Tank Top</option>
                <option value="crop">Crop Top</option>
            </select>
            <input type="color" id="topColor" value="#ff69b4"><br>

            <label>Bottom:</label><br>
            <select id="bottomStyle">
                <option value="tutu">Tutu</option>
                <option value="skirt">Long Skirt</option>
                <option value="leggings">Leggings</option>
            </select>
            <input type="color" id="bottomColor" value="#ffb6c1"><br>

            <label>Shoes:</label><br>
            <select id="shoeStyle">
                <option value="pointe">Pointe Shoes</option>
                <option value="flat">Ballet Flats</option>
                <option value="sneakers">Sneakers</option>
            </select>
            <input type="color" id="shoeColor" value="#ff1493"><br>
        </div>
    </div>

    <script>
        const config = {
            type: Phaser.AUTO,
            width: 400,
            height: 600,
            parent: 'game',
            scene: {
                preload: preload,
                create: create
            },
            backgroundColor: '#f9e6ff'
        };

        const game = new Phaser.Game(config);
        let gameScene;

        function preload() {
            // Load body positions
            this.load.image('body_first', 'assets/body_first.png');
            this.load.image('body_second', 'assets/body_second.png');
            this.load.image('body_third', 'assets/body_third.png');
            this.load.image('body_fourth', 'assets/body_fourth.png');
            this.load.image('body_fifth', 'assets/body_fifth.png');

            // Load hair styles
            this.load.image('hair_bun', 'assets/hair_bun.png');
            this.load.image('hair_ponytail', 'assets/hair_ponytail.png');
            this.load.image('hair_braid', 'assets/hair_braid.png');

            // Load tops
            this.load.image('top_leotard', 'assets/top_leotard.png');
            this.load.image('top_tank', 'assets/top_tank.png');
            this.load.image('top_crop', 'assets/top_crop.png');

            // Load bottoms
            this.load.image('bottom_tutu', 'assets/bottom_tutu.png');
            this.load.image('bottom_skirt', 'assets/bottom_skirt.png');
            this.load.image('bottom_leggings', 'assets/bottom_leggings.png');

            // Load shoes
            this.load.image('shoes_pointe', 'assets/shoes_pointe.png');
            this.load.image('shoes_flat', 'assets/shoes_flat.png');
            this.load.image('shoes_sneakers', 'assets/shoes_sneakers.png');
        }

        function create() {
            gameScene = this;

            // Create ballerina sprites (initially with default values)
            this.ballerina = {
                hair: this.add.sprite(200, 100, 'hair_bun').setOrigin(0.5),
                body: this.add.sprite(200, 300, 'body_first').setOrigin(0.5),
                top: this.add.sprite(200, 200, 'top_leotard').setOrigin(0.5),
                bottom: this.add.sprite(200, 350, 'bottom_tutu').setOrigin(0.5),
                shoes: this.add.sprite(200, 450, 'shoes_pointe').setOrigin(0.5)
            };

            // Define updateBallerina function
            this.updateBallerina = function() {
                const position = document.getElementById("position").value;
                const hairStyle = document.getElementById("hairStyle").value;
                const hairColor = document.getElementById("hairColor").value;
                const topStyle = document.getElementById("topStyle").value;
                const topColor = document.getElementById("topColor").value;
                const bottomStyle = document.getElementById("bottomStyle").value;
                const bottomColor = document.getElementById("bottomColor").value;
                const shoeStyle = document.getElementById("shoeStyle").value;
                const shoeColor = document.getElementById("shoeColor").value;

                // Update textures
                this.ballerina.body.setTexture(`body_${position}`);
                this.ballerina.hair.setTexture(`hair_${hairStyle}`);
                this.ballerina.top.setTexture(`top_${topStyle}`);
                this.ballerina.bottom.setTexture(`bottom_${bottomStyle}`);
                this.ballerina.shoes.setTexture(`shoes_${shoeStyle}`);

                // Update tints
                this.ballerina.hair.setTint(Phaser.Display.Color.HexStringToColor(hairColor).color);
                this.ballerina.top.setTint(Phaser.Display.Color.HexStringToColor(topColor).color);
                this.ballerina.bottom.setTint(Phaser.Display.Color.HexStringToColor(bottomColor).color);
                this.ballerina.shoes.setTint(Phaser.Display.Color.HexStringToColor(shoeColor).color);
            };

            // Initial update
            this.updateBallerina();
        }

        // Add event listeners to controls
        document.querySelectorAll("select, input").forEach(element => {
            element.addEventListener("change", () => {
                if (gameScene) {
                    gameScene.updateBallerina();
                }
            });
        });
    </script>
</body>
</html>
